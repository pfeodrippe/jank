; Test type inference for boxed long pointer across top-level forms.
(def long-ptr (cpp/box (cpp/new (cpp/type "long") 123456789)))

; Unbox should infer long* from var's boxed_type
(let* [raw-ptr (cpp/unbox long-ptr)
       value (cpp/* raw-ptr)]
  (if (= value 123456789)
    :success))
