; Test type inference for boxed int pointer across top-level forms.
(def int-ptr (cpp/box (cpp/new (cpp/type "int") 42)))

; Unbox should infer int* from var's boxed_type
(let* [raw-ptr (cpp/unbox int-ptr)
       value (cpp/* raw-ptr)]
  (if (= value 42)
    :success))
