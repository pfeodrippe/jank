#!/usr/bin/env bash

set -euo pipefail

# Reproduces issue #582: cpp/raw functions should not cause ODR violations
# during AOT compilation. This is the simplest reproduction case.

cd "$(dirname "$0")"

# Test compile-module command
echo "Testing: jank --module-path src compile-module cpp_raw_simple"
jank --module-path src compile-module cpp_raw_simple

echo "âœ“ Test passed: compile-module succeeded"
